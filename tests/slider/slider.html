<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<title>sider test</title>
	<style type="text/css">
		.slidecontainer{
			width:100%;
			height: 50px;
			background-color: black;
			overflow: hidden;
		}
		.track{
			width:100%;
			position: absolute;
			height: inherit;
			background-color: red;
			transform: translateX(-100%);
		}
		.thumb{
			position: absolute;
			height: inherit;
			width: 50px;
			background-color: white;
			z-index: 1;
		}
		.container2{
			width:100%;
			height: inherit;
		}
		.anim1{
			transition: transform 1000ms;
			transition-timing-function: linear;
		}
	</style>
</head>
<body>
<video id="player" controls="" style="height:80vh;width: auto;">
	<source src="../../../none_git_assets/sweet_magic.mp4" type="">
</video>
<div style="width: 100%;"><input style="width: 100%;" type="range" name="" id="seeker" min="0"></div>
<div class="slidecontainer">
	<div class="container2 anim1">
		<div class="thumb"></div>
		<div class="track"> </div>
	</div>
</div>
<script type="text/javascript">
	var player = document.getElementById("player");
	var seeker = document.getElementById("seeker");
	var slidecontainer = document.getElementsByClassName("slidecontainer");
	var track = document.getElementsByClassName("container2");
	var thumb = document.getElementsByClassName("thumb");
	var val,val2;
	var mousePosition;
	var offset = [0,0];
	var div;
	var isDown = false;

	thumb[0].addEventListener('mousedown', function(e) {
	    isDown = true;
	    offset = [
	        - thumb[0].offsetLeft - e.clientX,
	    ];
	    console.log(thumb[0].offsetLeft);
	}, true);

	track[0].addEventListener('mousedown', function(e) {
	    isDown = true;
	    offset = [
	        - thumb[0].offsetLeft - e.clientX,
	    ];
	    event.preventDefault();
	    if (isDown) {
	        mousePosition = {
	    
	            x : event.clientX,
	            y : event.clientY
	    
	        };
	        val2 = mousePosition.x - 50;
	        track[0].classList.remove("anim1");
	        //console.log(val2);
	        if(val2 <= (track[0].clientWidth-thumb[0].clientWidth) && val2 >= 0){
	        	track[0].style.transform = "translateX(" + val2  + "px)";
	        }
	        //track[0].style.top  = (mousePosition.y + offset[1]) + 'px';
	    }
	    console.log(thumb[0].offsetLeft);
	}, true);

	document.addEventListener('mouseup', function() {
	    isDown = false;
	    player.currentTime = val2/(track[0].clientWidth-thumb[0].clientWidth)*player.duration;
	    track[0].classList.add("anim1");
	}, true);

	document.addEventListener('mousemove', function(event) {
	    event.preventDefault();
	    if (isDown) {
	        mousePosition = {
	    
	            x : event.clientX,
	            y : event.clientY
	    
	        };
	        val2 = mousePosition.x - 50;
	        track[0].classList.remove("anim1");
	        //console.log(val2);
	        if(val2 <= (track[0].clientWidth-thumb[0].clientWidth) && val2 >= 0){
	        	track[0].style.transform = "translateX(" + val2  + "px)";
	        }
	        //track[0].style.top  = (mousePosition.y + offset[1]) + 'px';
	    }
	}, true);

	player.oncanplay = function(){ seeker.max = player.duration; }
	function update() {
		if(!isDown){
		 seeker.value = player.currentTime;
		 val = (player.currentTime*(track[0].clientWidth-thumb[0].clientWidth)/player.duration);
		 //console.log(val);
		 track[0].style.transform = "translateX(" + val + "px)";
		}
	}
	setInterval(update,1000);
</script>
</body>
</html>